<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        /*
            reduce()
                定义和用法：
                    该方法接收一个函数作为累加器，数组中的每一个值从左到右开始缩减，最终计算一个值。
                    该方法作为一个高阶函数，用于函数的compose。
                    reduce() 不会对空数组执行回调函数。
                语法：
                    array.reduce(function(total, item, index, arr) {return total + item;})
                参数说明：
                    参数为一个函数，必需，函数可以传递四个参数：
                        函数第一个参数 total 必需，初始值或者计算结束后的返回值。
                        函数第二个参数 item 必需，当前元素。
                        函数第三个参数 index 可选，当前元素的索引。
                        函数第四个参数 arr 可选，当前元素所属数组。
                        第一次执行 reduce() 时:
                            total = array[0]
                            item = array[1]
                            index = 1
                            arr = array
                            之后 total 的值为上一次计算的结果，index 逐渐递增。
                    返回值可以是任何形式的数值运算，不一定是 total + item
        */
        let grades = [10, 20, 30, 40];

        let result = grades.reduce((total, grade, index, arr) => {
            console.log(total, grade, index, arr);
            // 10 20 1 [10, 20, 30, 40]
            // 30 30 2 [10, 20, 30, 40]
            // 60 40 3 [10, 20, 30, 40]
            return total + grade;
        });

        console.log(result); // 100

        let arr2 = [10, 2, 1];
        let result2 = arr2.reduce((total, num) => {
            return total*2 - num;
            // 返回 (10*2 - 2)*2 -1 的值
        })
    </script>
</body>
</html>